

    <!-- Discharge Summary Clinical Document:  7.1.1.5.1.2 Pathology Test Result Group      and
                                               7.1.1.5.2.1 Imaging Examination Result Group -->

    <!-- This Schematron file validates 7.1.1.5.1.2 Pathology Test Result Group       and
                                        7.1.1.5.2.1 Imaging Examination Result Group of 7.1.1.5 Diagnostic Investigations section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of e-Discharge_Summary body -->

    <!-- Context: ClinicalDocument/component/structuredBody/component[diag_inv]/section/component[path_test]/section/ -->


    <!-- Status: Last Reviewed: 16/12/2011
         Status: Last Updated : 11/07/2012


         ************************   Copied from Event-Summary - NOT YET customised for Discharge Summary   ************************

 -->


    <!-- 02/07/2012 - Mantis task 3741 Updated the rule context to include predicates -->

    <pattern name="p-e-Discharge_Summary_3A_Common_Sections_Diagnostic_Investigations-errors"
        id="p-e-Discharge_Summary_3A_Common_Sections_Diagnostic_Investigations-errors"
        see="#p-e-Discharge_Summary_3A_Common_Sections_Diagnostic_Investigations-errors">

        <!-- Pathology Test Result Group      - Pathology test Result Group      - 0..* -->
        <!-- Imaging Examination Result Group - Imaging Examination Result Group - 0..* -->

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:component/cda:section/cda:code/@code = '101.20117']">

            <report test="count(cda:component[cda:section/cda:code/@code = '101.20117']) > 1">Error: e-Discharge Summary -
                7.1.1.5 Diagnostic Investigations - The 'component' tag shall appear only once. Refer to section 7.1.1.5 of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship[cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']]">

            <assert test="@typeCode = 'COMP'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - The 'entryRelationship'
                tag 'typeCode' attribute shall contain the value 'COMP'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report
                test="count(cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']) > 1"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - The 'organizer' tag shall appear only once. Refer
                to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']">

            <assert test="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[(cda:code/@code = '102.16144') or (cda:code/@code = '102.16145')]/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation/cda:code"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group" and/or "Imaging Examination Result Group" -
                The '/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[(cda:code/@code = '102.16144') or (cda:code/@code = '102.16145')]/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation/cda:code' path -
                1 or more tags are missing. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@moodCode = 'EVN'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group" and/or "Imaging Examination Result Group" - The 'organizer' tag 'moodCode'
                attribute shall contain the value 'EVN'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:id">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'id' tag is missing. Refer to section
                of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:id) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - The 'id' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <!-- Pathology Test Result Group      - Pathology Test Result Group Name      - 1..1 -->
            <!-- Imaging Examination Result Group - Imaging Examination Result Group Name - 1..1 -->

            <assert test="cda:code">Error: e-Discharge Summary - 7.1.1.5.1.2 "Pathology Test Result Group /
                Pathology Test Result Group Name" and/or 7.1.1.5.2.1 "Imaging Examination Result Group
                / Imaging Examination Result Group Name" - The 'code' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:code) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 "Pathology Test
                Result Group / Pathology Test Result Group Name" and/or 7.1.1.5.2.1 "Imaging
                Examination Result Group / Imaging Examination Result Group Name" - The 'code' tag
                shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="cda:statusCode/@code = 'completed'">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - The
                'statusCode' tag 'code' attribute shall contain the value 'completed'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>


            <!-- The attributes of "cda:code" are being tested by e-Discharge_Summary_Global_Checks.sch. -->

            <!-- Pathology Test Result Group      - Individual Pathology Test Result      - 1..* -->
            <!-- Imaging Examination Result Group - Individual Imaging Examination Result - 1..* -->

            <assert test="cda:component">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'component' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>


        </rule>


        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component">

            <assert test="cda:observation">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'observation' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:observation) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'observation' tag shall appear only once. Refer to
                section of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="cda:observation[@classCode = 'OBS']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result" - The
                'observation' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:observation[@moodCode = 'EVN']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result" - The
                'observation' tag 'moodCode' attribute shall contain the value 'EVN'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']">

            <assert test="cda:id">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'id' tag is missing. Refer to section
                of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <!-- Pathology Test Result Group - Individual Pathology Test Result Name - 1..1 -->
            <!-- Imaging Examination Result Group - Individual Imaging Examination Result Name - 1..1 -->

            <report test="count(cda:code) > 1 ">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result" and/or "Imaging Examination Result
                Group / Individual Imaging Examination Result" - The 'code' tag shall appear only
                once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <!-- Pathology Test Result Group      - Result Value - 0..1 -->
            <!-- Imaging Examination Result Group - Result Value - 0..1 -->

            <report test="count(cda:value) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result / Result Value" -
                The 'value' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <!-- Pathology Test Result Group - Result Value Normal Status - 0..1 -->
            <!-- Imaging Examination Result Group - Result Value Normal Status - 0..1 -->

            <report test="count(cda:interpretationCode) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Normal Status" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Normal Status" - The 'interpretationCode' tag
                shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']/cda:value">

            <assert
                test="@xsi:type = 'CD' or
                @xsi:type = 'PQ' or
                @xsi:type = 'BL' or
                @xsi:type = 'ST' or
                @xsi:type = 'INT' or
                @xsi:type = 'RTO' or
                @xsi:type = 'IVL_PQ' or
                @xsi:type = 'PPD'"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value" - The 'value' tag 'xsi:type'
                attribute shall contain the value 'CD', 'PQ', 'BL', 'ST', 'INT', 'RTO', 'IVL_PQ', 'PPD'. Refer to
                section of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']/cda:interpretationCode">

            <assert test="document('TEMPLATE/VALDN/CDAValidate_Vocabs.xml', .)/systems/system[@codeSystemName = 'HL7_ObservationInterpretationNormality']/code[(@code = (current()/@code))]"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Normal Status" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Normal Status" -
                The 'interpretationCode' tag 'code' attribute shall contain the value 'A', 'AA', 'HH', 'LL', 'L', 'H', 'N' as per HL7 V3: ObservationInterpretationNormality.
                Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@codeSystem = '2.16.840.1.113883.5.83'">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Normal Status" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Normal Status" - The 'interpretationCode' tag
                'codeSystem' attribute shall contain the value '2.16.840.1.113883.5.83'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert
                test="@codeSystemName and
                @codeSystemName = 'HL7 ObservationInterpretationNormality'"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Normal Status" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Normal Status" -
                The 'interpretationCode' tag 'codeSystemName' attribute shall contain the value 'HL7
                ObservationInterpretationNormality'. Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert
                test="document('TEMPLATE/VALDN/CDAValidate_Vocabs.xml', .)/systems/system
                [@codeSystemName = 'HL7_ObservationInterpretationNormality']/code[(translate(@displayName,  'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = translate(current()/@displayName, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'))]"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Normal Status" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Normal Status" -
                The 'interpretationCode' tag 'displayName' attribute shall contain the value 'Abnormal', 'Abnormal alert', 'High alert', 'Low alert', 'High', 'Low', 'Normal' as per HL7 V3: ObservationInterpretationNormality.
                Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert
                test="document('TEMPLATE/VALDN/CDAValidate_Vocabs.xml', .)/systems/system
                [@codeSystemName = 'HL7_ObservationInterpretationNormality']/code[(@code = current()/@code) and (translate(@displayName,  'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = translate(current()/@displayName, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'))]"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Normal Status" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Imaging Examination Result
                Value Normal Status" - The 'interpretationCode' tag 'code' and 'displayName'
                attributes shall match as per HL7 V3: ObservationInterpretationNormality.
                Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
            /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']
            /cda:entry/cda:observation[@classCode='OBS']
            /cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
            /cda:component/cda:observation[@classCode='OBS']/cda:code">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.1.2 "Pathology Test Result Group
                > Individual Pathology Test Result > Individual Pathology Test Result Name" - The 'code' tag
                'nullFlavor' attribute shall not be present. Refer to requirements in the NullFlavor Usage Clarification FAQ and section
                7.1.1.5.1.2 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[@classCode='OBS']/cda:referenceRange">

            <!-- Pathology Test Result Group - Result Value Reference Range Details - 0..* -->
            <!-- Imaging Examination Result Group - Result Value Reference Range Details - 0..* -->

            <assert test="@typeCode = 'REFV'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'referenceRange' tag 'typeCode' attribute shall contain the value 'REFV'. Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:observationRange">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result / Result Value" -
                The 'observationRange' tag is missing. Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:observationRange) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Normal Status" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Normal Status" - The 'observationRange' tag shall
                appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange">

            <!-- Updated NG 29/2/12 2477 -->

            <!--<assert test="@classCode = 'OBS'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'observationRange' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>-->

            <report test="@classCode and @classCode!=  'OBS'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'observationRange' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="@moodCode = 'EVN.CRT'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result / Result Value" -
                The 'observationRange' tag 'moodCode' attribute shall contain the value 'EVN.CRT'. Refer to section
                in thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <!-- Pathology Test Result Group - Result Value Reference Range Meaning - 1..1 -->
            <!-- Imaging Examination Result Group - Result Value Reference Range Meaning - 1..1 -->

            <assert test="cda:code">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result / Individual Pathology Test Result Name" and/or
                Imaging Examination Result Group / Individual Imaging Examination Result /
                Individual Imaging Examination Result Name" - The 'code' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:code) > 1">bbError: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Individual Pathology Test Result
                Name" and/or Imaging Examination Result Group / Individual Imaging Examination
                Result / Individual Imaging Examination Result Name" - The 'code' tag shall appear
                only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <!-- The attributes of "cda:code" are being tested by e-Discharge_Summary_Global_Checks.sch. -->

            <!-- Pathology Test Result Group - Result Value Reference Range - 1..1 -->
            <!-- Imaging Examination Result Group - Result Value Reference Range - 1..1 -->

            <assert test="cda:value">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result / Individual Pathology Test Result Name" and/or
                Imaging Examination Result Group / Individual Imaging Examination Result /
                Individual Imaging Examination Result Name" - The 'value' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:value) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Reference Range Details / Result Value
                Reference Range" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Value Reference
                Range" - The 'value' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or
                7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="cda:value[@xsi:type = 'IVL_PQ']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Value Reference Range" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Reference Range
                Details / Result Value Reference Range" - The 'value' tag 'xsi:type' attribute shall
                be 'IVL_PQ'. Refer to section 7.1.1.5.1.2 and 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
                       /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']
                       /cda:entry/cda:observation[@classCode='OBS']
                       /cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
                       /cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange/cda:code">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.1.2 "Pathology Test Result
                Group > Individual Pathology Test Result > Individual Result Value Reference Range Details
                > Individual Pathology Test Result Value Reference Range Meaning" - The 'code' tag
                'nullFlavor' attribute shall not be present. Refer to requirements in the NullFlavor Usage Clarification FAQ and section
                7.1.1.5.1.2 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
            /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']
            /cda:entry/cda:observation[@classCode='OBS']
            /cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
            /cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange/cda:value">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.1.2 "Pathology Test Result
                Group > Individual Pathology Test Result > Individual Result Value Reference Range Details
                > Individual Pathology Test Result Value Reference Range" - The 'value' tag
                'nullFlavor' attribute shall not be present. Refer to requirements in the NullFlavor Usage Clarification FAQ and section
                7.1.1.5.1.2 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <!-- Pathology Test Result Group -  Result Comment - 0..* -->
        <!-- Imaging Examination Result Group -  Result Comment - 0..* -->

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship[cda:act/cda:code/@code = '281296001']">

            <assert test="@typeCode = 'COMP'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value Reference Range Details /
                Result Comment" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Comment" - The
                'entryRelationship' tag 'typeCode' attribute shall contain the value 'COMP' . Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of
                thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:act) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - " and/or 7.1.1.5.2.1 Imaging
                Examination Result Group - "Pathology Test Result Group / Pathology Test Result
                Group Name" and/or "Imaging Examination Result Group / Imaging Examination Result
                Group Name" - The 'act' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:act[cda:code/@code = '281296001']">

            <assert test="@classCode = 'INFRM'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'classCode' attribute shall contain the value 'INFRM'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@moodCode = 'EVN'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value Reference Range Details /
                Result Comment" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Comment" - The
                'act' tag 'moodCode' attribute shall contain the value 'EVN'. Refer to section 7.1.1.5.1.2 and/or
                7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:code) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - " and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Pathology Test
                Result Group Name" and/or "Imaging Examination Result Group / Imaging Examination
                Result Group Name" - The 'code' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <report test="count(cda:text) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'text' tag shall appear only once. Refer to section 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="normalize-space(cda:text) !=  ''">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Comment" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value Reference Range Details /
                Result Comment" - The 'text' tag shall contain a value. Refer to
                section 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:text[@xsi:type = 'ST']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Comment" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value Reference Range Details /
                Result Comment" - The 'text' tag 'xsi:type' attribute shall
                be 'ST'. Refer to section 7.1.1.5.1.2 and 7.1.1.5.2.1 of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16144']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:act[cda:code/@code = '281296001']/cda:text">

            <assert test="@xsi:type">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'xsi:type' attribute is missing. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@xsi:type = 'ST'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'xsi:type' attribute shall contain the value 'ST'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="cda:code[@code = '281296001']">

            <assert test="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[(cda:code/@code = '102.16144') or (cda:code/@code = '102.16145')]/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:act/cda:code[@code = '281296001']"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                The '/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[(cda:code/@code = '102.16144') or (cda:code/@code = '102.16145')]/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation/cda:entryRelationship/cda:act/cda:code/@code="281296001"' path -
                1 or more tags are missing. Refer section 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@codeSystem = '2.16.840.1.113883.6.96'">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Comment" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value Reference Range Details /
                Result Comment" - The 'code' tag 'codeSystem' attribute shall be
                '2.16.840.1.113883.6.96'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@codeSystemVersion and @codeSystemVersion = '20110531'">Error: e-Discharge Summary
                - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination
                Result Group - "Pathology Test Result Group / Individual Pathology Test Result /
                Result Value Reference Range Details / Result Comment" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Reference Range
                Details / Result Comment" - The 'code' tag 'codeSystemVersion' attribute shall be
                '20110531'. Refer to section 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert
                test="translate(@codeSystemName, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'SNOMED CT-AU'"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Reference Range Details / Result Comment"
                and/or "Imaging Examination Result Group / Individual Imaging Examination Result /
                Result Value Reference Range Details / Result Comment" - The 'code' tag
                'codeSystemName' attribute shall contain the value 'SNOMED CT-AU'. Refer to section 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert
                test="translate(@displayName, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'RESULT COMMENTS'"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Reference Range Details / Result Comment"
                and/or "Imaging Examination Result Group / Individual Imaging Examination Result /
                Result Value Reference Range Details / Result Comment" - The 'code' tag
                'displayName' attribute shall contain the value 'result comments' or missing. Refer to section
                7.1.1.5.1.2 PATHOLOGY TEST RESULT GROUP of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>


        <!-- Pathology Test Result Group -  Individual Pathology Test Result Status - 1..1
        These sections are being tested by e-Discharge_Summary_3A_Common_Sections_Result_Status -->

        <!-- Pathology Test Result Group -  Individual Pathology Test Result Status - 1..1

            These sections are being tested by Specialist_Letter_3A_Common_Sections_Result_Status -->


        <!-- Below is a copy of the above   replacing (cda:code/@code = '102.16144') or (cda:code/@code = '102.16145')    with    [cda:code/@code = '102.16144']  /  [cda:code/@code = '102.16145'] -->

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship[cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']]">

            <assert test="@typeCode = 'COMP'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - The 'entryRelationship'
                tag 'typeCode' attribute shall contain the value 'COMP'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report
                test="count(cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']) > 1"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - The 'organizer' tag shall appear only once. Refer
                to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>


        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component">

            <assert test="cda:observation">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'observation' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:observation) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result" - The 'observation' tag shall appear only once. Refer to
                section of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="cda:observation[@classCode = 'OBS']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result" - The
                'observation' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:observation[@moodCode = 'EVN']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result" - The
                'observation' tag 'moodCode' attribute shall contain the value 'EVN'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

<!--  Path only valid for: "102.16144"
        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']">
-->
        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']/cda:value">

            <assert
                test="@xsi:type = 'CD' or
                @xsi:type = 'PQ' or
                @xsi:type = 'BL' or
                @xsi:type = 'ST' or
                @xsi:type = 'INT' or
                @xsi:type = 'RTO' or
                @xsi:type = 'IVL_PQ' or
                @xsi:type = 'PPD'"
                >Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value" - The 'value' tag 'xsi:type'
                attribute shall contain the value 'CD', 'PQ', 'BL', 'ST', 'INT', 'RTO', 'IVL_PQ', 'PPD'. Refer to
                section of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <!-- code - 1..1 -->
        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
                       /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']
                       /cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship
                       /cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
                       /cda:component/cda:observation[@classCode='OBS']/cda:code">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.2.1 "Imaging Examination
                Result Group > Individual Imaging Examination Result > Individual Imaging Examination >
                Result Name" - The 'code' tag 'nullFlavor' attribute shall not be present. Refer to requirements in
                the NullFlavor Usage Clarification FAQ and section 7.1.1.5.2.1 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

<!--  Path only valid for: "102.16144"
        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[cda:code/@code !=  '102.16156.2.2.2']/cda:interpretationCode">
-->

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[@classCode='OBS']/cda:referenceRange">

            <!-- Pathology Test Result Group - Result Value Reference Range Details - 0..* -->
            <!-- Imaging Examination Result Group - Result Value Reference Range Details - 0..* -->

            <assert test="@typeCode = 'REFV'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'referenceRange' tag 'typeCode' attribute shall contain the value 'REFV'. Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:observationRange">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result / Result Value" -
                The 'observationRange' tag is missing. Refer to section of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:observationRange) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Normal Status" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Normal Status" - The 'observationRange' tag shall
                appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']/cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange">

            <!-- Updated NG 29/2/12 2477 -->

            <!--<assert test="@classCode = 'OBS'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'observationRange' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>-->

            <report test="@classCode and @classCode!=  'OBS'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value" - The
                'observationRange' tag 'classCode' attribute shall contain the value 'OBS'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="@moodCode = 'EVN.CRT'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value" and/or "Imaging
                Examination Result Group / Individual Imaging Examination Result / Result Value" -
                The 'observationRange' tag 'moodCode' attribute shall contain the value 'EVN.CRT'. Refer to section
                in thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <!-- Pathology Test Result Group - Result Value Reference Range Meaning - 1..1 -->
            <!-- Imaging Examination Result Group - Result Value Reference Range Meaning - 1..1 -->

            <assert test="cda:code">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result / Individual Pathology Test Result Name" and/or
                Imaging Examination Result Group / Individual Imaging Examination Result /
                Individual Imaging Examination Result Name" - The 'code' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:code) > 1">bbError: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Individual Pathology Test Result
                Name" and/or Imaging Examination Result Group / Individual Imaging Examination
                Result / Individual Imaging Examination Result Name" - The 'code' tag shall appear
                only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <!-- The attributes of "cda:code" are being tested by e-Discharge_Summary_Global_Checks.sch. -->

            <!-- Pathology Test Result Group - Result Value Reference Range - 1..1 -->
            <!-- Imaging Examination Result Group - Result Value Reference Range - 1..1 -->

            <assert test="cda:value">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result Group
                and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result Group /
                Individual Pathology Test Result / Individual Pathology Test Result Name" and/or
                Imaging Examination Result Group / Individual Imaging Examination Result /
                Individual Imaging Examination Result Name" - The 'value' tag is missing. Refer to
                section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:value) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Individual
                Pathology Test Result / Result Value Reference Range Details / Result Value
                Reference Range" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Value Reference
                Range" - The 'value' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or
                7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="cda:value[@xsi:type = 'IVL_PQ']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Value Reference Range" and/or "Imaging Examination
                Result Group / Individual Imaging Examination Result / Result Value Reference Range
                Details / Result Value Reference Range" - The 'value' tag 'xsi:type' attribute shall
                be 'IVL_PQ'. Refer to section 7.1.1.5.1.2 and 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
                       /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']
                       /cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship
                       /cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
                       /cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange/cda:code">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.2.1 "Imaging Examination
                Result Group > Individual Imaging Examination Result > Imaging Examination Result Value
                Reference Range Details > Imaging Examination Result Value Reference Range Meaning" - The
                'code' tag 'nullFlavor' attribute shall not be present. Refer to requirements in the NullFlavor Usage Clarification FAQ
                and section 7.1.1.5.2.1 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']
                       /cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']
                       /cda:entry/cda:observation[@classCode='OBS']
                       /cda:entryRelationship/cda:organizer[translate(@classCode, 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ') = 'BATTERY']
                       /cda:component/cda:observation[@classCode='OBS']/cda:referenceRange/cda:observationRange/cda:value">

            <assert test="not(@nullFlavor)">Error: e-Discharge Summary - 7.1.1.5.2.1 "Imaging Examination
                Result Group > Individual Imaging Examination Result > Imaging Examination Result Value
                Reference Range Details > Imaging Examination Result Value Reference Range Meaning" - The
                'value' tag 'nullFlavor' attribute shall not be present. Refer to requirements in the NullFlavor Usage Clarification FAQ
                and section 7.1.1.5.2.1 of the e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <!-- Pathology Test Result Group -  Result Comment - 0..* -->
        <!-- Imaging Examination Result Group -  Result Comment - 0..* -->

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship[cda:act/cda:code/@code = '281296001']">

            <assert test="@typeCode = 'COMP'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value Reference Range Details /
                Result Comment" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Comment" - The
                'entryRelationship' tag 'typeCode' attribute shall contain the value 'COMP' . Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of
                thee-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:act) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - " and/or 7.1.1.5.2.1 Imaging
                Examination Result Group - "Pathology Test Result Group / Pathology Test Result
                Group Name" and/or "Imaging Examination Result Group / Imaging Examination Result
                Group Name" - The 'act' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:act[cda:code/@code = '281296001']">

            <assert test="@classCode = 'INFRM'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'classCode' attribute shall contain the value 'INFRM'. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@moodCode = 'EVN'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test Result
                Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test Result
                Group / Individual Pathology Test Result / Result Value Reference Range Details /
                Result Comment" and/or "Imaging Examination Result Group / Individual Imaging
                Examination Result / Result Value Reference Range Details / Result Comment" - The
                'act' tag 'moodCode' attribute shall contain the value 'EVN'. Refer to section 7.1.1.5.1.2 and/or
                7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <report test="count(cda:code) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - " and/or 7.1.1.5.2.1
                Imaging Examination Result Group - "Pathology Test Result Group / Pathology Test
                Result Group Name" and/or "Imaging Examination Result Group / Imaging Examination
                Result Group Name" - The 'code' tag shall appear only once. Refer to section 7.1.1.5.1.2 and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <report test="count(cda:text) > 1">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'text' tag shall appear only once. Refer to section 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 of the
               e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</report>

            <assert test="normalize-space(cda:text) !=  ''">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Comment" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value Reference Range Details /
                Result Comment" - The 'text' tag shall contain a value. Refer to
                section 7.1.1.5.1.2 Pathology Test Result Group and/or 7.1.1.5.2.1 of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="cda:text[@xsi:type = 'ST']">Error: e-Discharge Summary - 7.1.1.5.1.2
                Pathology Test Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group -
                "Pathology Test Result Group / Individual Pathology Test Result / Result Value
                Reference Range Details / Result Comment" and/or "Imaging Examination Result Group /
                Individual Imaging Examination Result / Result Value Reference Range Details /
                Result Comment" - The 'text' tag 'xsi:type' attribute shall
                be 'ST'. Refer to section 7.1.1.5.1.2 and 7.1.1.5.2.1 of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>

        <rule context="/cda:ClinicalDocument/cda:component/cda:structuredBody/cda:component/cda:section[cda:code/@code = '101.16006']/cda:component/cda:section[cda:code/@code = '101.20117']/cda:component/cda:section[cda:code/@code = '102.16145']/cda:entry/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:organizer/cda:component/cda:observation[@classCode='OBS']/cda:entryRelationship/cda:act[cda:code/@code = '281296001']/cda:text">

            <assert test="@xsi:type">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'xsi:type' attribute is missing. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

            <assert test="@xsi:type = 'ST'">Error: e-Discharge Summary - 7.1.1.5.1.2 Pathology Test
                Result Group and/or 7.1.1.5.2.1 Imaging Examination Result Group - "Pathology Test
                Result Group / Individual Pathology Test Result / Result Value Reference Range
                Details / Result Comment" and/or "Imaging Examination Result Group / Individual
                Imaging Examination Result / Result Value Reference Range Details / Result Comment"
                - The 'act' tag 'xsi:type' attribute shall contain the value 'ST'. Refer to section of the
                e-Discharge_Summary_CDA_Implementation_Guide_v3.4.</assert>

        </rule>


    </pattern>
